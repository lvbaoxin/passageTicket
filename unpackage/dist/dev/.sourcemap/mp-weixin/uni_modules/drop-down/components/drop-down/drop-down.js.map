{"version":3,"sources":["webpack:///E:/源码/私活/passageTicket/uni_modules/drop-down/components/drop-down/drop-down.vue?e24c","webpack:///E:/源码/私活/passageTicket/uni_modules/drop-down/components/drop-down/drop-down.vue?bd4c","webpack:///E:/源码/私活/passageTicket/uni_modules/drop-down/components/drop-down/drop-down.vue?fc6d","webpack:///E:/源码/私活/passageTicket/uni_modules/drop-down/components/drop-down/drop-down.vue?b02a","uni-app:///uni_modules/drop-down/components/drop-down/drop-down.vue","webpack:///E:/源码/私活/passageTicket/uni_modules/drop-down/components/drop-down/drop-down.vue?09d5","webpack:///E:/源码/私活/passageTicket/uni_modules/drop-down/components/drop-down/drop-down.vue?6060"],"names":["name","props","filterData","value","default","childName","type","fileds","isChild","autoStow","resetStow","overlay","closeOnClickOverlay","shadow","data","menuData","menu","current","pageState","isShowMask","maskVisibility","firstScrollInto","secondScrollInto","thirdScrollInto","columns","filter","radio","result","watch","handler","immediate","deep","computed","showTitle","checkedColor","created","methods","init","tmpMenu","tmpitem","addIdentity","item","confirmFilter","resetFilter","components1","component","components2","getFilterOrRadioValue","components","getListValue","togglePage","setTimeout","hideMenu","showMenu","hideMaskLayer","showMaskLayer","hideMenuLayer","showMenuLayer","formatResult","emitColse","changeMenuTitle","removeCustomAttributes"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACsC;;;AAG9F;AACoL;AACpL,gBAAgB,6LAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oVAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxEA;AAAA;AAAA;AAAA;AAA8qB,CAAgB,msBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC0DlsB;EACAA;EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAC;MACAF;IACA;IACAG;MACAD;MACAF;IACA;IACAI;MACAF;MACAF;IACA;IACAK;MACAH;MACAF;IACA;IACAM;MACAJ;MACAF;IACA;IACAO;MACAL;MACAF;IACA;IACAQ;MACAN;MACAF;IACA;IACAS;MACAP;MACAF;IACA;EACA;EACAU;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MACAC;MACAC;MAGA;MACAC;MAEA;MACAC;MACAC;MAEAC;IACA;EACA;EACAC;IACA;AACA;AACA;IACA1B;MACA2B;QACA;QACA;QACA;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACA,6FACA1B;MACA;IACA;IACA2B;MACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MACA;MACA;QAAA;QACA;QACAC,+EACA,qFACAjC,qBACA,+FACAkC,2EACA,oBACA;QACA;MACA;;MAEA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;MACA;MACA1B;QACA2B;QACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACAC;QACAC;QACAA;QACAA;QACAA;MACA;MACA;MACA;MACAC;QACAD;QACAA;QACAA;QACAA;MACA;MACA;MACA;IACA;IAEA;IACAE;MAAA;MACA;MACA;MACAC;QAAA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACAD;QAAA;QACA;MACA;IACA;IAEA;IACAE;MAAA;MACA;MACA;MACAC;QACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IAGA;IACAC;MAAA;MAAA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;MACA;MACA;IAEA;IAEA;IACAC;MAAA;MACA;MACAH;QACA;MACA;IACA;IAEA;IACAI;MAAA;MACA;MACA;QACAJ;UACA;QACA;MACA;IACA;IAEA;IACAK;MAAA;MACA;MACA;QACAL;UACA;QACA;MACA;QACA;MACA;MACA;MACA;IACA;IAEA;IACAM;MAAA;MACA;MACA;QACAN;UACA;QACA;MACA;IACA;IAEA;IACAO;MACA;MACA;MACA;IACA;IAEAC;MACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACA;MACA;MACA;MACA9C;QACA;MACA;IACA;IAEA;IACA+C;MAAA;MACA;MACA/C;QACA;QACA;QACA;QACA;QACA;QACA;UACA;QACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;ACxWA;AAAA;AAAA;AAAA;AAA6yC,CAAgB,0wCAAG,EAAC,C;;;;;;;;;;;ACAj0C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/drop-down/components/drop-down/drop-down.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./drop-down.vue?vue&type=template&id=569b936c&scoped=true&\"\nvar renderjs\nimport script from \"./drop-down.vue?vue&type=script&lang=js&\"\nexport * from \"./drop-down.vue?vue&type=script&lang=js&\"\nimport style0 from \"./drop-down.vue?vue&type=style&index=0&id=569b936c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"569b936c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/drop-down/components/drop-down/drop-down.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./drop-down.vue?vue&type=template&id=569b936c&scoped=true&\"","var components\ntry {\n  components = {\n    dropItemMenu: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/drop-down/components/drop-item-menu/drop-item-menu\" */ \"@/uni_modules/drop-down/components/drop-item-menu/drop-item-menu.vue\"\n      )\n    },\n    dropItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/drop-down/components/drop-item/drop-item\" */ \"@/uni_modules/drop-down/components/drop-item/drop-item.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.menu, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = _vm.checkedColor(item)\n    var m1 = _vm.showTitle(item)\n    if (_vm.$scope.data.scopedSlotsCompiler === \"augmented\") {\n      _vm.$setScopedSlotsParams(\"title\", {\n        title: $orig,\n      })\n    }\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n    }\n  })\n  var l1 = _vm.__map(_vm.menuData, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var g0 =\n      (item.type == \"hierarchy\" || item.type == \"hierarchy-column\") &&\n      item[_vm.childName].length > 0\n    return {\n      $orig: $orig,\n      g0: g0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./drop-down.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./drop-down.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"drop-down\" :class=\"{'setDropdownBottom':maskVisibility}\">\r\n\t\t<!-- 顶部插槽 -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<slot name=\"header\"></slot>\r\n\t\t</view>\r\n\t\t<view class=\"main\">\r\n\t\t\t<!-- 顶部菜单 -->\r\n\t\t\t<view class=\"nav\">\r\n\t\t\t\t<block v-for=\"(item,index) in menu\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"first-menu\" :class=\"{'on':current==index}\" @click=\"togglePage(index)\">\r\n\t\t\t\t\t\t<text class=\"txt\" :class=\"{'checked-color': checkedColor(item)}\">\r\n\t\t\t\t\t\t\t<slot name=\"title\" :title=\"item\">\r\n\t\t\t\t\t\t\t\t{{showTitle(item)}}\r\n\t\t\t\t\t\t\t</slot>\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t<text class=\"name\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t<!-- 遮罩层 -->\r\n\t\t\t<view class=\"mask\" v-if=\"overlay\" :class=\"{'show':isShowMask,'hide':maskVisibility!=true}\"\r\n\t\t\t\t@click=\"hideMenu(true, 'mask')\"></view>\r\n\t\t\t<block v-for=\"(item,index) in menuData\" :key=\"index\">\r\n\t\t\t\t<view class=\"sub-menu-class\"\r\n\t\t\t\t\t:class=\"{'show':current==index,'hide':!pageState[index], 'show-shadow':shadow}\">\r\n\t\t\t\t\t<block v-if=\"(item.type=='hierarchy'||item.type=='hierarchy-column')&& item[childName].length>0\">\r\n\t\t\t\t\t\t<drop-item-menu :item=\"item\" :currentIndex=\"index\" :firstScrollInto=\"firstScrollInto\"\r\n\t\t\t\t\t\t\t:secondScrollInto=\"secondScrollInto\" :thirdScrollInto=\"thirdScrollInto\"\r\n\t\t\t\t\t\t\t:childName=\"childName\" :fileds=\"fileds\" ref=\"itemMenu\" style=\"width: 100%;\"\r\n\t\t\t\t\t\t\t@close=\"emitColse\" @change=\"changeMenuTitle($event, index)\">\r\n\t\t\t\t\t\t</drop-item-menu>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<!-- 多选筛选 -->\r\n\t\t\t\t\t<block v-if=\"item.type=='filter'\">\r\n\t\t\t\t\t\t<view class=\"filter\">\r\n\t\t\t\t\t\t\t<drop-item :item=\"item\" :childName=\"childName\" :fileds=\"fileds\" ref=\"dropItem\">\r\n\t\t\t\t\t\t\t</drop-item>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\r\n\t\t\t\t\t<!-- 单选筛选 -->\r\n\t\t\t\t\t<block v-if=\"item.type=='radio'\">\r\n\t\t\t\t\t\t<view class=\"filter\">\r\n\t\t\t\t\t\t\t<drop-item :item=\"item\" type=\"radio\" :childName=\"childName\" :fileds=\"fileds\" ref=\"dropItem\">\r\n\t\t\t\t\t\t\t</drop-item>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<view class=\"btn-box\" v-if=\"!autoStow||item.type=='filter'||item.type=='radio'\">\r\n\t\t\t\t\t\t<view class=\"reset\" @click=\"resetFilter()\">重置</view>\r\n\t\t\t\t\t\t<view class=\"submit\" @click=\"confirmFilter()\">确定</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tname: 'DropDown',\r\n\t\t/**\r\n\t\t * @property {Array}\t\t\t\t\t\tfilterData  \t\t渲染的数组（默认 []）\r\n\t\t * @property {String}\t\t\t\t\t\tchildName  \t\t\t子菜单字段（默认 submenu）\r\n\t\t * @property {String}\t\t\t\t\t\tfileds  \t\t\t显示字段\t（默认 name）\r\n\t\t * @property {Boolean}\t\t  \t\t\t\tisChild\t\t\t\t返回值是否包含子菜单 （默认 false，可选 true）\r\n\t\t * @property {Boolean}\t\t  \t\t\t\tautoStow\t\t\t菜单类型为 hierarchy 或 hierarchy-column 时选择完成之后是否自动收起菜单并返回选中值，默认 true，选择所有子\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  菜单后再收起，如果有多级时，希望选择一级或二级菜单时就收起，需要设置为 false，点击确定收起\r\n\t\t * @property {Boolean}\t\t\t\t\t\tresetStow  \t\t\t重置是否收起，默认 false，可选 true\r\n\t\t * @property {Boolean}\t\t\t\t\t\toverlay  \t\t\t是否显示遮罩，默认 true，可选 false\r\n\t\t * @property {Boolean}\t\t\t\t\t\tcloseOnClickOverlay 点击遮罩是否收起菜单，默认 true，可选 false\r\n\t\t * @property {Boolean}\t\t\t\t\t\tshadow  \t\t\t是否显示菜单下阴影，默认 true，可选 false\r\n\t\t * @property {Function() <array> {}}\t\tconfirm  \t\t\t返回所有选中的对象\r\n\t\t * */\r\n\t\tprops: {\r\n\t\t\tfilterData: {\r\n\t\t\t\tvalue: Array,\r\n\t\t\t\tdefault: []\r\n\t\t\t},\r\n\t\t\tchildName: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'submenu'\r\n\t\t\t},\r\n\t\t\tfileds: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"name\"\r\n\t\t\t},\r\n\t\t\tisChild: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tautoStow: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tresetStow: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\toverlay: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tcloseOnClickOverlay: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tshadow: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmenuData: [],\r\n\t\t\t\tmenu: [], //顶部菜单数据\r\n\t\t\t\tcurrent: -1, //菜单页面显示/隐藏动画控制\r\n\t\t\t\tpageState: [], //页面的状态\r\n\t\t\t\tisShowMask: false, //遮罩层显示/隐藏动画控制\r\n\t\t\t\tmaskVisibility: false, //遮罩层显示/隐藏状态\r\n\r\n\t\t\t\t//滚动区域定位\r\n\t\t\t\tfirstScrollInto: 0,\r\n\t\t\t\tsecondScrollInto: 0,\r\n\t\t\t\tthirdScrollInto: 0,\r\n\r\n\r\n\t\t\t\t// 多列选择\r\n\t\t\t\tcolumns: [],\r\n\r\n\t\t\t\t// 单选/多选\r\n\t\t\t\tfilter: [],\r\n\t\t\t\tradio: [],\r\n\r\n\t\t\t\tresult: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t/**\r\n\t\t\t * @ desc 由于筛选条件可能是深层对象且是通过请求过来的，所以采用 watch 进行深度监听，使其及时更新\r\n\t\t\t * */\r\n\t\t\tfilterData: {\r\n\t\t\t\thandler(newVal) {\r\n\t\t\t\t\tthis.menuData = JSON.parse(JSON.stringify(newVal));\r\n\t\t\t\t\tthis.init();\r\n\t\t\t\t\tthis.addIdentity(this.menuData, 0)\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true,\r\n\t\t\t\tdeep: true\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tshowTitle() {\r\n\t\t\t\treturn (item) => {\r\n\t\t\t\t\treturn (item.checkedName && item.checkedName.length) ? item.checkedName.join('/') : item[this\r\n\t\t\t\t\t\t.fileds]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcheckedColor() {\r\n\t\t\t\treturn (item) => {\r\n\t\t\t\t\treturn item.checkedName && item.checkedName.length\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.init();\r\n\t\t\tthis.addIdentity(this.menuData, 0)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit() {\r\n\t\t\t\tlet tmpMenu = [];\r\n\t\t\t\tfor (let i = 0; i < this.menuData.length; i++) {\r\n\t\t\t\t\tlet tmpitem = this.menuData[i];\r\n\t\t\t\t\ttmpMenu.push({\r\n\t\t\t\t\t\t[this.fileds]: tmpitem[this.fileds] || (tmpitem.type == \"filter\" ? \"筛选\" : tmpitem[this\r\n\t\t\t\t\t\t\t.childName] ? tmpitem[\r\n\t\t\t\t\t\t\tthis.childName][0][this.fileds] : '筛选'),\r\n\t\t\t\t\t\ttype: tmpitem.type,\r\n\t\t\t\t\t\tcheckedName: []\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.pageState.push(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 提取 nav \r\n\t\t\t\tthis.menu = tmpMenu;\r\n\t\t\t},\r\n\r\n\t\t\t// 为每一项添加标识\r\n\t\t\taddIdentity(data, level = 0) {\r\n\t\t\t\tif (!data || !data.length) return\r\n\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\titem.drop_item_identity = level\r\n\t\t\t\t\tif (item[this.childName] && item[this.childName].length) {\r\n\t\t\t\t\t\tthis.addIdentity(item[this.childName], level + 1)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//写入结果，合并\r\n\t\t\tconfirmFilter() {\r\n\t\t\t\tthis.result = []\r\n\t\t\t\tthis.getListValue()\r\n\t\t\t\tthis.getFilterOrRadioValue()\r\n\t\t\t\tthis.formatResult()\r\n\t\t\t\tthis.hideMenu(false)\r\n\t\t\t},\r\n\t\t\t//重置结果和ui，筛选\r\n\t\t\tresetFilter(page_index) {\r\n\t\t\t\tconst components1 = this.$refs.itemMenu\r\n\t\t\t\tif (!components1 || !components1.length) return\r\n\t\t\t\tcomponents1.forEach(component => {\r\n\t\t\t\t\tcomponent.current = -1\r\n\t\t\t\t\tcomponent.sec_current = -1\r\n\t\t\t\t\tcomponent.sec2_current = -1\r\n\t\t\t\t\tcomponent.selectArr = []\r\n\t\t\t\t})\r\n\t\t\t\tconst components2 = this.$refs.dropItem\r\n\t\t\t\tif (!components2 || !components2.length) return\r\n\t\t\t\tcomponents2.forEach(component => {\r\n\t\t\t\t\tcomponent.selectFilterArr = []\r\n\t\t\t\t\tcomponent.selectRadioArr = []\r\n\t\t\t\t\tcomponent.filter = []\r\n\t\t\t\t\tcomponent.radio = []\r\n\t\t\t\t})\r\n\t\t\t\tif (this.resetStow) this.hideMenu(true)\r\n\t\t\t\tthis.confirmFilter()\r\n\t\t\t},\r\n\r\n\t\t\t// 取类型为 filter 或 radio 的选中值\r\n\t\t\tgetFilterOrRadioValue() {\r\n\t\t\t\tconst components = this.$refs.dropItem\r\n\t\t\t\tif (!components || !components.length) return\r\n\t\t\t\tcomponents.forEach(component => {\r\n\t\t\t\t\tthis.result.push(...component.selectFilterArr, ...component.selectRadioArr)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 取类型为 列表筛选 的选中值\r\n\t\t\tgetListValue() {\r\n\t\t\t\tconst components = this.$refs.itemMenu\r\n\t\t\t\tif (!components || !components.length) return\r\n\t\t\t\tcomponents.forEach(component => {\r\n\t\t\t\t\tthis.result.push(...component.selectArr)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//菜单开关\r\n\t\t\ttogglePage(index) {\r\n\t\t\t\tif (this.isToggleing) return;\r\n\t\t\t\tthis.isToggleing = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.isToggleing = false;\r\n\t\t\t\t}, 150)\r\n\t\t\t\tif (index == this.current) {\r\n\t\t\t\t\tthis.hideMenu(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showMenu(index)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 隐藏菜单\r\n\t\t\thideMenu(hideReturn = false, type) {\r\n\t\t\t\tif (!this.closeOnClickOverlay && type === 'mask') return\r\n\t\t\t\tthis.hideMenuLayer(true);\r\n\t\t\t\tthis.hideMaskLayer();\r\n\t\t\t\tthis.current = -1;\r\n\t\t\t\tif (hideReturn) this.confirmFilter()\r\n\t\t\t},\r\n\r\n\t\t\t// 显示菜单\r\n\t\t\tshowMenu(index) {\r\n\t\t\t\tif (this.current > -1) {\r\n\t\t\t\t\tthis.hideMenuLayer(false);\r\n\t\t\t\t}\r\n\t\t\t\tthis.showMenuLayer(index);\r\n\t\t\t\tthis.showMaskLayer();\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//隐藏遮罩层\r\n\t\t\thideMaskLayer() {\r\n\t\t\t\tthis.isShowMask = false;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.maskVisibility = false;\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\r\n\t\t\t//显示遮罩层\r\n\t\t\tshowMaskLayer() {\r\n\t\t\t\tthis.maskVisibility = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.isShowMask = true;\r\n\t\t\t\t\t}, 0)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//隐藏菜单页\r\n\t\t\thideMenuLayer(isAnimation) {\r\n\t\t\t\tlet tmpIndex = this.current;\r\n\t\t\t\tif (isAnimation) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.pageState.splice(tmpIndex, 1, false);\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.pageState.splice(tmpIndex, 1, false)\r\n\t\t\t\t}\r\n\t\t\t\tthis.firstScrollInto = null;\r\n\t\t\t\tthis.secondScrollInto = null;\r\n\t\t\t},\r\n\r\n\t\t\t//显示菜单页\r\n\t\t\tshowMenuLayer(index) {\r\n\t\t\t\tthis.pageState.splice(index, 1, true);\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.current = index;\r\n\t\t\t\t\t}, 0)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 处理结果并返回\r\n\t\t\tformatResult() {\r\n\t\t\t\tconst result = JSON.parse(JSON.stringify(this.result))\r\n\t\t\t\tconst data = this.removeCustomAttributes(result)\r\n\t\t\t\tthis.$emit('confirm', data)\r\n\t\t\t},\r\n\r\n\t\t\temitColse(flag) {\r\n\t\t\t\tif (this.autoStow && flag) {\r\n\t\t\t\t\tthis.confirmFilter()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 点击改变头部标题\r\n\t\t\tchangeMenuTitle(data, index) {\r\n\t\t\t\tif (!data || !data.length) {\r\n\t\t\t\t\treturn this.menu[index].checkedName = []\r\n\t\t\t\t}\r\n\t\t\t\tthis.menu[index].checkedName = []\r\n\t\t\t\tdata.forEach((el) => {\r\n\t\t\t\t\tthis.menu[index].checkedName.push(el.name)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 移除组件自定义属性\r\n\t\t\tremoveCustomAttributes(data) {\r\n\t\t\t\tif (!data || !data.length) return []\r\n\t\t\t\tdata.forEach(el => {\r\n\t\t\t\t\tdelete el.drop_item_key;\r\n\t\t\t\t\tdelete el.pKey;\r\n\t\t\t\t\tdelete el.drop_item_identity;\r\n\t\t\t\t\tdelete el.parent_type;\r\n\t\t\t\t\t!this.isChild && delete el[this.childName];\r\n\t\t\t\t\tif (this.isChild && el[this.childName]) {\r\n\t\t\t\t\t\tthis.removeCustomAttributes(el[this.childName])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn data\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\tview {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: nowrap;\r\n\t}\r\n\r\n\t.drop-down {\r\n\t\tflex-shrink: 0;\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\t// position: sticky;\r\n\t\tz-index: 997;\r\n\t\tflex-wrap: nowrap;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\ttop: var(--window-top);\r\n\t\tleft: 0;\r\n\t\t// top:100px;\r\n\t\toverflow-y: hidden;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.deg0 {\r\n\t\t\ttransform: rotateZ(0deg);\r\n\t\t}\r\n\r\n\t\t.deg180 {\r\n\t\t\ttransform: rotateZ(180deg);\r\n\t\t}\r\n\r\n\t\t&.setDropdownBottom {\r\n\t\t\t// height: 345px;\r\n\t\t\tbottom: 0;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t.header {\r\n\t\tz-index: 12;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.nav {\r\n\t\twidth: 100%;\r\n\t\theight: 88rpx;\r\n\t\tborder-bottom: solid 2rpx #eee;\r\n\t\tz-index: 12;\r\n\t\tbackground-color: #ffffff;\r\n\t\tflex-direction: row;\r\n\r\n\t\t.first-menu {\r\n\t\t\twidth: 100%;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #757575;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\ttransition: color .2s linear;\r\n\r\n\t\t\t&.on {\r\n\t\t\t\tcolor: $uni-color-primary;\r\n\r\n\t\t\t\t.iconfont {\r\n\t\t\t\t\tcolor: $uni-color-primary;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.name::before {\r\n\t\t\t\t\tbackground-color: $uni-color-primary;\r\n\t\t\t\t\ttransform: translate(150%, -50%) rotateZ(40deg);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.name::after {\r\n\t\t\t\t\tbackground-color: $uni-color-primary;\r\n\t\t\t\t\ttransform: translate(210%, -50%) rotateZ(-40deg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.name {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\theight: 40rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\ttext-overflow: clip;\r\n\r\n\t\t\t\t// overflow: hidden;\r\n\t\t\t\t&::after,\r\n\t\t\t\t&::before {\r\n\t\t\t\t\tcontent: \"\";\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 0;\r\n\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\twidth: 10rpx;\r\n\t\t\t\t\theight: 5rpx;\r\n\t\t\t\t\tbackground-color: #757575;\r\n\t\t\t\t\ttransition: transform 0.3s linear;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&::before {\r\n\t\t\t\t\ttransform: translate(150%, -50%) rotateZ(-40deg);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&::after {\r\n\t\t\t\t\ttransform: translate(210%, -50%) rotateZ(40deg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.txt {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tmax-width: 80rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t}\r\n\r\n\t\t\t.checked-color {\r\n\t\t\t\tcolor: $uni-color-primary;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.show-shadow {\r\n\t\tbox-shadow: 0 4rpx 20rpx rgba(#ccc, 1);\r\n\t}\r\n\r\n\t.sub-menu-class {\r\n\t\twidth: 100%;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttransform: translate3d(0, - 100%, 0);\r\n\t\tmax-height: 690rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tz-index: 11;\r\n\r\n\t\toverflow: hidden;\r\n\t\talign-items: center;\r\n\t\tflex-direction: column;\r\n\t\ttransition: transform .15s linear;\r\n\r\n\t\t&.hide {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t&.show {\r\n\t\t\ttransform: translate3d(0, calc(88rpx + 1rpx), 0);\r\n\t\t}\r\n\r\n\t\t.btn-box {\r\n\t\t\tflex-shrink: 0;\r\n\t\t\twidth: 698rpx;\r\n\t\t\theight: 120rpx;\r\n\t\t\tflex-direction: row !important;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t>view {\r\n\t\t\t\twidth: 320rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tborder-radius: 80rpx;\r\n\t\t\t\tborder: solid 1rpx $uni-color-primary;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\r\n\t\t\t.reset {\r\n\t\t\t\tcolor: $uni-color-primary;\r\n\t\t\t}\r\n\r\n\t\t\t.submit {\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground-color: $uni-color-primary;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.filter {\r\n\t\twidth: 100%;\r\n\t\theight: 600rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\r\n\t\t.menu-box {\r\n\t\t\twidth: 698rpx;\r\n\t\t\theight: calc(690rpx - 120rpx);\r\n\t\t\tflex-shrink: 1;\r\n\r\n\t\t\t.box {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding-top: 32rpx;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.mask {\r\n\t\tz-index: 10;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0);\r\n\t\ttransition: background-color .15s linear;\r\n\r\n\t\t&.show {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\t}\r\n\r\n\t\t&.hide {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./drop-down.vue?vue&type=style&index=0&id=569b936c&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./drop-down.vue?vue&type=style&index=0&id=569b936c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1678276019541\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}